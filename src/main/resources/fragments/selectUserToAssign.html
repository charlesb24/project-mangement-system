<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div th:fragment="userAssignment (assignedToUserId, assignableUsers, assignedUser)">
        <label for="assignedTo">Assigned To</label>
        <select id="assignedTo" th:field="*{assignedToUserId}">
            <option th:each="user : ${assignableUsers}" th:value="${user.id}" th:text="${user?.lastName + ', ' + user?.firstName}"></option>
            <option th:if="*{assignedToUserId == 0}" th:value="${0}" selected>Unassigned</option>
            <option th:if="*{assignedToUserId != 0}" th:value="${assignedUser?.id}" th:text="${assignedUser?.lastName + ', ' + assignedUser?.firstName}" selected></option>
        </select>
    </div>
</body>
</html>